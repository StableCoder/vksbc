# Vulkan Binary Converter

This program is used to convert a SPIR-V binary code file into a set of hexadecimal 4-byte values that can be pasted as an array on unsigned integers in code and used.

This is meant mostly for embedding non-changing shaders directly into code, mostly for testing purposes.

### Usage

Generate a Vulkan bytecode file (typically .spv) from a shader using the glslangvalidator program provided with the Vulkan SDK:

```
glslangvalidator -V -o inputFile.frag.spv inputFile.frag
```

Then, run this program on the output file of the above.

```
vkshaderbinaryconverter inputFile.frag.spv
```

A file should have been created, with content similar to this:

```
0x07230203, 0x00010000, 0x00080001, 0x0000000D, 0x00000000, 0x00020011, 0x00000001, 0x0006000B, 
0x00000001, 0x4C534C47, 0x6474732E, 0x3035342E, 0x00000000, 0x0003000E, 0x00000000, 0x00000001, 
0x0006000F, 0x00000004, 0x00000004, 0x6E69616D, 0x00000000, 0x00000009, 0x00030010, 0x00000004, 
0x00000007, 0x00030003, 0x00000002, 0x000001C2, 0x00090004, 0x415F4C47, 0x735F4252, 0x72617065, 
0x5F657461, 0x64616873, 0x6F5F7265, 0x63656A62, 0x00007374, 0x00040005, 0x00000004, 0x6E69616D, 
0x00000000, 0x00050005, 0x00000009, 0x4374756F, 0x726F6C6F, 0x00000000, 0x00040047, 0x00000009, 
0x0000001E, 0x00000000, 0x00020013, 0x00000002, 0x00030021, 0x00000003, 0x00000002, 0x00030016, 
0x00000006, 0x00000020, 0x00040017, 0x00000007, 0x00000006, 0x00000004, 0x00040020, 0x00000008, 
0x00000003, 0x00000007, 0x0004003B, 0x00000008, 0x00000009, 0x00000003, 0x0004002B, 0x00000006, 
0x0000000A, 0x3F800000, 0x0004002B, 0x00000006, 0x0000000B, 0x00000000, 0x0007002C, 0x00000007, 
0x0000000C, 0x0000000A, 0x0000000B, 0x0000000B, 0x0000000A, 0x00050036, 0x00000002, 0x00000004, 
0x00000000, 0x00000003, 0x000200F8, 0x00000005, 0x0003003E, 0x00000009, 0x0000000C, 0x000100FD, 
0x00010038, 
```

Simply copy and paste that code into a program like so:

```c++
constexpr uint32_t fragShader[] = {
    0x07230203, 0x00010000, 0x00080001, 0x0000000D, 0x00000000, 0x00020011, 0x00000001, 0x0006000B, 
    0x00000001, 0x4C534C47, 0x6474732E, 0x3035342E, 0x00000000, 0x0003000E, 0x00000000, 0x00000001, 
    0x0006000F, 0x00000004, 0x00000004, 0x6E69616D, 0x00000000, 0x00000009, 0x00030010, 0x00000004, 
    0x00000007, 0x00030003, 0x00000002, 0x000001C2, 0x00090004, 0x415F4C47, 0x735F4252, 0x72617065, 
    0x5F657461, 0x64616873, 0x6F5F7265, 0x63656A62, 0x00007374, 0x00040005, 0x00000004, 0x6E69616D, 
    0x00000000, 0x00050005, 0x00000009, 0x4374756F, 0x726F6C6F, 0x00000000, 0x00040047, 0x00000009, 
    0x0000001E, 0x00000000, 0x00020013, 0x00000002, 0x00030021, 0x00000003, 0x00000002, 0x00030016, 
    0x00000006, 0x00000020, 0x00040017, 0x00000007, 0x00000006, 0x00000004, 0x00040020, 0x00000008, 
    0x00000003, 0x00000007, 0x0004003B, 0x00000008, 0x00000009, 0x00000003, 0x0004002B, 0x00000006, 
    0x0000000A, 0x3F800000, 0x0004002B, 0x00000006, 0x0000000B, 0x00000000, 0x0007002C, 0x00000007, 
    0x0000000C, 0x0000000A, 0x0000000B, 0x0000000B, 0x0000000A, 0x00050036, 0x00000002, 0x00000004, 
    0x00000000, 0x00000003, 0x000200F8, 0x00000005, 0x0003003E, 0x00000009, 0x0000000C, 0x000100FD, 
    0x00010038, 
};

vk::ShaderModuleCreateInfo moduleCI;
moduleCI.pCode = fragmentBinary;
moduleCI.codeSize = sizeof(fragmentBinary);

vk::ShaderModule shaderModule;
m_device.createShaderModule(&moduleCI,
                            nullptr,
                            &shaderModule);
```

And it should be ready to be used in the creation of Vulkan shaders in the program.